library KeyboardHook;


{$R *.res}
uses
  Messages,
  Windows;

var SysHook: hHook = 0;
function KeyboardProc(Code: Integer; wParam: WParam; LParam: LParam): integer; stdcall;
begin
  if code<0 then Result:=CallNexthookEx(SysHook, code, WParam, LParam)
  else
  if byte(LParam shr 24)<$80 then //key is pressed
  begin

  end;

end;
procedure RunStopHook(State: Boolean) export; stdcall;
begin
  if State then
    SysHook:= SetWindowsHookEx(WH_KEYBOARD, @KeyboardProc, hInstance, 0)
  else
  begin
    UnhookWindowsHookEx(SysHook);
    SysHook:=0;
  end;
end;
exports RunStopHook;

end.
